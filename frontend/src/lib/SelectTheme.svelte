<script lang="ts">
	import { siteThemeStore } from '$lib/stores';

	let { value = $bindable() }: { value: string } = $props();

	value = $siteThemeStore;

	function changeTheme(dataTheme: string) {
		siteThemeStore.set(dataTheme);
		value = dataTheme;
	}

	const themesPreviews: { name: string; emoji: string }[] = [
		{ name: 'catppuccin', emoji: 'ğŸˆ' },
		{ name: 'cerberus', emoji: 'ğŸº' },
		{ name: 'concord', emoji: 'ğŸ¤–' },
		{ name: 'crimson', emoji: 'ğŸ©¸' },
		{ name: 'fennec', emoji: 'ğŸ¦Š' },
		{ name: 'hamlindigo', emoji: 'ğŸ‘”' },
		{ name: 'legacy', emoji: 'ğŸ’€' },
		{ name: 'mint', emoji: 'ğŸƒ' },
		{ name: 'modern', emoji: 'ğŸŒ¸' },
		{ name: 'mona', emoji: 'ğŸ™' },
		{ name: 'nosh', emoji: 'ğŸ¥™' },
		{ name: 'nouveau', emoji: 'ğŸ‘‘' },
		{ name: 'pine', emoji: 'ğŸŒ²' },
		{ name: 'reign', emoji: 'ğŸ“’' },
		{ name: 'rocket', emoji: 'ğŸš€' },
		{ name: 'rose', emoji: 'ğŸŒ·' },
		{ name: 'sahara', emoji: 'ğŸœï¸' },
		{ name: 'seafoam', emoji: 'ğŸ§œâ€â™€ï¸' },
		{ name: 'terminus', emoji: 'ğŸŒ‘' },
		{ name: 'vintage', emoji: 'ğŸ“º' },
		{ name: 'vox', emoji: 'ğŸ‘¾' },
		{ name: 'wintry', emoji: 'ğŸŒ¨ï¸' }
	];
</script>

<h1 class="h2 pt-5">Select a theme</h1>

<input type="text" required name="themeName" hidden value={$siteThemeStore} />

<div class="grid grid-cols-1 gap-2 md:grid-cols-2 2xl:grid-cols-3">
	{#each themesPreviews as theme}
		<button
			data-theme={theme.name}
			onclick={() => changeTheme(theme.name)}
			class="bg-surface-50-950 hover:preset-outlined-surface-800-200 grid w-full grid-cols-[auto_1fr_auto] items-center gap-4 rounded-md p-4"
			class:preset-outlined-primary-500={theme.name === $siteThemeStore}
			class:preset-outlined-surface-100-900={theme.name !== $siteThemeStore}
			type="button"
		>
			<span>{theme.emoji}</span>
			<h3 class="h6 !text-surface-950-50 text-left">{theme.name}</h3>
			<div class="flex items-center justify-center -space-x-1">
				<div
					class="bg-primary-500 aspect-square w-5 rounded-full border-[1px] border-black/10"
				></div>
				<div
					class="bg-secondary-500 aspect-square w-5 rounded-full border-[1px] border-black/10"
				></div>
				<div
					class="bg-tertiary-500 aspect-square w-5 rounded-full border-[1px] border-black/10"
				></div>
				<div
					class="bg-success-500 aspect-square w-5 rounded-full border-[1px] border-black/10"
				></div>
				<div
					class="bg-warning-500 aspect-square w-5 rounded-full border-[1px] border-black/10"
				></div>
				<div class="bg-error-500 aspect-square w-5 rounded-full border-[1px] border-black/10"></div>
				<div
					class="bg-surface-500 aspect-square w-5 rounded-full border-[1px] border-black/10"
				></div>
			</div>
		</button>
	{/each}
</div>
